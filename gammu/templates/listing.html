{% extends 'calendar.html' %}

{% block content %}

<br/><br/>

<style>
	div		{
			border:		1px solid black;
			background-color: white;
			position:	static;
			}

	#divSearch	{
			width:		400px;
			height:		35px;
			}
	#divSearch input {
			position:	relative;
			top:		5px;
			width:		390px;
			font-size:	8pt;
			text-align:	right;
			}

	#divListing	{
			width:		400px;
			max-height:	600px;
			padding-top:	5px;
			padding-bottom:	5px;
			overflow:	scroll;
			overflow-x:	hidden;
			visibility:	hidden;
			}
	#divListing table {
			width:		380px;
			font-size:	8pt;
			padding:	5px;
			}
	#divListing tr.separator	{
			background-color: gray;
			}
	#divListing tr.event	{
			background-color: white;
			color:		black;
			}
	#divListing tr.event:hover	{
			background-color: blue;
			color:		white;
			}
	#divListing td.edit {
			text-align:	left;
			cursor:		pointer;
			}
	#divListing input.upbutton	{
			width:		380px;
			height:		20px;
			}
	#divListing input.downbutton {
			width:		380px;
			height:		20px;
			}
	#divListing input.singlemenu {
			background-color: blue;
			width:		20px;
			height:		20px;
			}

	#divEdit	{
			position:	absolute;
			top:		150px;
			left:		400px;
			opacity:	0;
			}
	#divEdit table	{
			font-size:	8pt;
			padding:	5px;
			spacing:	2px;
			}
	#divEdit input	{
			border:		1px solid gray;
			font-size:	8pt;
			text-align:	center;
			width:		250px;
			}
	#divEdit input.button	{
			font-size:	8pt;
			text-align:	center;
			width:		80px;
			}

</style>

<center>

<div id=divSearch>
	<input type=text name=search />
</div>

<script>
	function selectAll() {
		}

	function edit( id, start, end, summary ) {
		document.getElementById('edit_id').value = id;
		document.getElementById('edit_start').value = start;
		document.getElementById('edit_end').value = end;
		document.getElementById('edit_summary').value = summary;
		FadeIn('divEdit', 0);
		}

	function create() {
		document.getElementById('edit_id').value = 'new';
		document.getElementById('edit_start').value = start;
		document.getElementById('edit_end').value = end;
		document.getElementById('edit_summary').value = summary;
		FadeIn('divEdit', 0);
		}
</script>

<div id=divListing>
<input type=button class=upbutton />
<table cellspacing=0>
{% for day in days %}
	<tr class=separator>
		<td> </td>
		<td align=left colspan=3>{{ day.date|date:"F" }}</td>
		<td align=right colspan=2>{{ day.date|date:"d.M.Y" }}</td>
	</tr>
{% for event in day.events %}
	<tr class=event id="tr_{{ event.id }}">
		<td><input type=checkbox id="checkbox_{{ event.id }}" {{ event.selected }}/></td>
		<td align=right>{{ event.start }}</td>
		<td>-</td>
		<td align=left>{{ event.end }}</td>
		<td class=edit onClick="edit('{{ event.id }}','{{ event.start }}','{{ event.end }}','{{ event.summary }}');">{{ event.summary }}</td>
		<td><input type=button class=singlemenu value=""/></td>
		
	</tr>
{% endfor %}
{% endfor %}
	<tr class=event>
		<td><input type=checkbox onClick="selectAll();"/></td>
		<td colspan=5> </td>
	</tr>
</table>
<input type=button class=downbutton />
</div>

<script>
	FadeIn('divListing', 0);
</script>

{% include 'edit.html' %}

{% endblock %}
